{% extends 'gerente/base.html' %}

{% block title %}Nova Requisi√ß√£o - ENGEN{% endblock %}

{% block content %}
<div class="content-header">
    <h2>Nova Requisi√ß√£o</h2>
    <a href="{% url 'requisicoes' %}" class="btn-secondary">
        ‚Üê Voltar
    </a>
</div>

<div class="form-container">
    <div class="form-card">
        <div class="form-header">
            <h3>Dados da Requisi√ß√£o</h3>
        </div>
        
        <form method="post" action="{% url 'adicionar_requisicao' %}">
            {% csrf_token %}
            
            <div class="form-body">
                <div class="form-group">
                    <label for="cliente">Cliente <span class="required">*</span></label>
                    <select class="form-control" id="cliente" name="cliente" required>
                        <option value="">Selecione um cliente</option>
                        {% for cliente in clientes %}
                            <option value="{{ cliente.id }}">{{ cliente.nome }}</option>
                        {% endfor %}
                    </select>
                    <small class="form-text">
                        <a href="{% url 'adicionar_cliente' %}" class="btn-link">+ Adicionar novo cliente</a>
                    </small>
                </div>

                <div class="form-group">
                    <label for="valor">Valor (MT) <span class="required">*</span></label>
                    <input type="number" class="form-control" id="valor" name="valor" 
                           step="0.01" min="0" placeholder="0.00" required>
                </div>

                <div class="form-group">
                    <label for="quantidade_senhas">Quantidade de Senhas <span class="required">*</span></label>
                    <input type="number" class="form-control" id="quantidade_senhas" name="quantidade_senhas" 
                           min="1" placeholder="Ex: 50" required>
                    <small class="form-text">Digite a quantidade inicial de senhas para esta requisi√ß√£o</small>
                </div>

                <div class="form-group">
                    <label for="observacoes">Observa√ß√µes</label>
                    <textarea class="form-control" id="observacoes" name="observacoes" rows="3"
                              placeholder="Observa√ß√µes adicionais sobre a requisi√ß√£o (opcional)"></textarea>
                </div>
            </div>

            <div class="form-footer">
                <a href="{% url 'requisicoes' %}" class="btn-secondary">Cancelar</a>
                <button type="submit" class="btn-submit">Criar Requisi√ß√£o</button>
            </div>
        </form>
    </div>
</div>

<!-- Informa√ß√µes sobre Requisi√ß√µes -->
<div class="info-section">
    <div class="info-card">
        <h4>üí° Informa√ß√µes Importantes</h4>
        <div class="info-list">
            <div class="info-item">
                <strong>Valor:</strong> Ser√° usado para calcular o custo total da requisi√ß√£o
            </div>
            <div class="info-item">
                <strong>Senhas:</strong> Quantidade inicial que ser√° disponibilizada para o cliente
            </div>
            <div class="info-item">
                <strong>Senhas Restantes:</strong> Ser√£o inicialmente iguais √† quantidade de senhas
            </div>
        </div>
    </div>
</div>
{% endblock %}